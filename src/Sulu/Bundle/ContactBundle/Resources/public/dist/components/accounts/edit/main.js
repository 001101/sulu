define(["services/sulucontact/account-router"],function(a){"use strict";return{header:function(){return{tabs:{url:"/admin/content-navigations?alias=account"},toolbar:{buttons:{save:{parent:"saveWithOptions"},settings:{options:{dropdownItems:{"delete":{}}}}}}}},initialize:function(){this.bindCustomEvents(),this.afterSaveAction=""},bindCustomEvents:function(){this.sandbox.on("sulu.header.back",a.toList),this.sandbox.on("sulu.tab.saved",this.afterSave.bind(this)),this.sandbox.on("sulu.tab.dirty",this.tabDirty.bind(this)),this.sandbox.on("sulu.toolbar.save",this.save.bind(this)),this.sandbox.on("sulu.toolbar.delete",this.deleteAccount.bind(this))},deleteAccount:function(){this.options.id&&alert("delete")},save:function(a){this.afterSaveAction=a,this.sandbox.emit("sulu.header.toolbar.item.loading","save"),this.sandbox.emit("sulu.tab.save")},tabDirty:function(){this.sandbox.emit("sulu.header.toolbar.item.enable","save",!1)},afterSave:function(b){this.sandbox.emit("sulu.header.toolbar.item.disable","save",!0),"back"==this.afterSaveAction?a.toList():"new"==this.afterSaveAction?a.toAdd():this.options.id||a.toEdit(b.id)}}});