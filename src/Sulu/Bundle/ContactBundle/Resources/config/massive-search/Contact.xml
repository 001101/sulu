<?xml version="1.0" ?>
<massive-search-mapping xmlns="http://massive.io/schema/dic/massive-search-mapping">

    <mapping class="Sulu\Bundle\ContactBundle\Entity\Contact">
        <index name="contact" />
        <id property="id" />
        <title expr="join(' ', [object.getTitle(), object.getFirstName(), object.getLastName()])" />
        <description expr="join(' ', map(object.getEmails(), 'el.getEmail()'))" />
        <url expr="'/admin/#contacts/edit:' ~ object.getId()" />

        <fields>
            <field name="firstName" type="string" />
            <field name="lastName" type="string" />
            <field name="mainEmail" expr="join(' ', map(object.getEmails(), 'el.getEmail()'))" type="string" />
            <field name="mainPhone" expr="join(' ', map(object.getEmails(), 'el.getEmail()'))" type="string" />
            <field name="address" expr="object.getMainAddress() ? join(' ', [object.getMainAddress().getNumber(), object.getMainAddress().getStreet(), object.getMainAddress().getZip(), object.getMainAddress().getState()]) : ''" type="string" />
        </fields>
    </mapping>

</massive-search-mapping>
