define(["sulusnippet/components/snippet/main","sulusnippet/model/snippet"],function(a,b){"use strict";var c={view:!0,layout:{sidebar:!1,navigation:{collapsed:!0},content:{width:"fixed",shrinkable:!1}},header:function(){return{breadcrumb:this.breadcrumb,toolbar:{parentTemplate:"default",languageChanger:{url:"/admin/content/languages/sulu_io",preSelected:this.options.language},template:[{id:"state",group:"left",position:100,type:"select",itemsOption:{markable:!0},items:[{id:2,title:this.sandbox.translate("toolbar.state-publish"),icon:"husky-publish",callback:function(){this.sandbox.emit("sulu.dropdown.state.item-clicked",2)}.bind(this)},{id:1,title:this.sandbox.translate("toolbar.state-test"),icon:"husky-test",callback:function(){this.sandbox.emit("sulu.dropdown.state.item-clicked",1)}.bind(this)}]},{id:"template",icon:"pencil",iconSize:"large",group:"left",position:10,type:"select",title:"",hidden:!1,itemsOption:{url:"/admin/api/snippet/types",titleAttribute:"title",idAttribute:"template",translate:!1,markable:!0,callback:function(a){this.template=a.template,this.sandbox.emit("sulu.dropdown.template.item-clicked",a)}.bind(this)}}]}}},initialize:function(){this.type=this.options.id?"edit":"add",this.bindModelEvents(),this.bindCustomEvents(),this.loadData()},bindCustomEvents:function(){this.sandbox.on("sulu.header.back",function(){this.sandbox.emit("sulu.snippets.snippet.list")}.bind(this))},loadData:function(){this.content||(this.content=new b({id:this.options.id})),void 0!==this.options.id?this.content.fullFetch(this.options.language,{success:function(a){this.render(a.toJSON())}.bind(this)}):this.render(this.content.toJSON())},render:function(a){this.data=a,this.setTitle(a.title)},setTitle:function(a){var b=[{title:"navigation.snippets"},{title:"snippets.snippet.title"}];this.options.id&&""!==a?(this.sandbox.emit("sulu.header.set-title",this.sandbox.util.cropMiddle(a,40)),b.push({title:a}),this.sandbox.emit("sulu.header.set-breadcrumb",b)):(this.sandbox.emit("sulu.header.set-title",this.sandbox.translate("snippets.snippet.title")),this.sandbox.emit("sulu.header.set-breadcrumb",b))}};return c.__proto__=a,c});